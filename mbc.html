<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الكنز المجاني - نظام مركزي</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4a6cf7;
            --primary-dark: #3a5bd9;
            --secondary: #6c757d;
            --light: #ffffff;
            --light-bg: #f8f9fa;
            --light-border: #e9ecef;
            --dark: #1d2144;
            --gray: #6c757d;
            --success: #28a745;
            --danger: #dc3545;
            --warning: #ffc107;
            --border-radius: 12px;
            --shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--light-bg);
            color: var(--dark);
            line-height: 1.6;
            transition: var(--transition);
            scroll-behavior: smooth;
        }

        .container {
            width: 90%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 15px;
        }

        /* Header Styles */
        header {
            background-color: var(--light);
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
            padding: 15px 0;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
        }

        .logo i {
            font-size: 1.8rem;
        }

        .nav-links {
            display: flex;
            gap: 20px;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            transition: var(--transition);
        }

        .nav-links a:hover {
            color: var(--primary);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            border-radius: var(--border-radius);
            text-decoration: none;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            font-size: 0.9rem;
        }

        .btn-primary {
            background-color: var(--primary);
            color: var(--light);
        }

        .btn-primary:hover {
            background-color: var(--primary-dark);
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background-color: var(--primary);
            color: var(--light);
        }

        .btn-success {
            background-color: var(--success);
            color: var(--light);
        }

        .btn-success:hover {
            background-color: #218838;
        }

        .btn-danger {
            background-color: var(--danger);
            color: var(--light);
        }

        .btn-danger:hover {
            background-color: #c82333;
        }

        .btn-warning {
            background-color: var(--warning);
            color: var(--dark);
        }

        .btn-warning:hover {
            background-color: #e0a800;
        }

        /* Search Bar */
        .search-container {
            position: relative;
            width: 300px;
        }

        .search-input {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid var(--light-border);
            border-radius: var(--border-radius);
            background-color: var(--light-bg);
            transition: var(--transition);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(74, 108, 247, 0.2);
        }

        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background-color: var(--light);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            z-index: 100;
            display: none;
            overflow: hidden;
            max-height: 300px;
            overflow-y: auto;
        }

        .search-result-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 15px;
            text-decoration: none;
            color: var(--dark);
            border-bottom: 1px solid var(--light-border);
            transition: var(--transition);
        }

        .search-result-item:hover {
            background-color: var(--light-bg);
        }

        .search-result-icon {
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--light-bg);
            border-radius: 8px;
            color: var(--primary);
        }

        .search-result-icon img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 8px;
        }

        .search-result-info {
            flex: 1;
        }

        .search-result-name {
            font-weight: 500;
        }

        .search-result-category {
            font-size: 0.8rem;
            color: var(--gray);
        }

        .no-results {
            padding: 15px;
            text-align: center;
            color: var(--gray);
        }

        /* Apps Grid */
        .apps-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .app-card {
            background-color: var(--light);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            transition: var(--transition);
            text-decoration: none;
            color: inherit;
            border-bottom: 6px groove #000; 
            border-top: 6px groove #000; 
            border-left: 0px ridge #000;
            border-right: 0px groove #000; 
            border-radius: 19px 19px 19px 19px;
        }

        .app-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .app-image {
            height: 150px;
            background: linear-gradient(135deg, var(--primary), #6a11cb);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--light);
            font-size: 3rem;
            position: relative;
            overflow: hidden;
        }

        .app-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .app-content {
            padding: 20px;
        }

        .app-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 10px;
        }

        .app-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .app-rating {
            display: flex;
            align-items: center;
            gap: 5px;
            background-color: var(--light-bg);
            padding: 4px 8px;
            border-radius: 20px;
            font-size: 0.8rem;
        }

        .app-rating i {
            color: var(--warning);
        }

        .app-description {
            color: var(--gray);
            font-size: 0.9rem;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .app-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .app-price {
            font-weight: 600;
            color: var(--primary);
        }

        /* Category Filter */
        .category-filter {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .category-btn {
            background-color: var(--light);
            border: 1px solid var(--light-border);
            padding: 8px 16px;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.9rem;
        }

        .category-btn:hover, .category-btn.active {
            background-color: var(--primary);
            color: var(--light);
            border-color: var(--primary);
        }

        /* Loading */
        .loading-apps {
            text-align: center;
            padding: 40px;
            display: none;
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--light);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Admin Panel Styles */
        .admin-panel {
            background-color: var(--light);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 25px;
            margin: 30px 0;
            display: none;
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--light-border);
        }

        .admin-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary);
        }

        .admin-actions {
            display: flex;
            gap: 10px;
        }

        .admin-form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark);
        }

        .form-input, .form-textarea, .form-select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--light-border);
            border-radius: var(--border-radius);
            background-color: var(--light-bg);
            transition: var(--transition);
            font-size: 0.9rem;
        }

        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }

        .form-input:focus, .form-textarea:focus, .form-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(74, 108, 247, 0.2);
        }

        .form-row {
            display: flex;
            gap: 15px;
        }

        .form-row .form-group {
            flex: 1;
        }

        .admin-apps-list {
            margin-top: 30px;
        }

        .apps-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        .apps-table th, .apps-table td {
            padding: 12px 15px;
            text-align: right;
            border-bottom: 1px solid var(--light-border);
        }

        .apps-table th {
            background-color: var(--light-bg);
            font-weight: 600;
            color: var(--dark);
        }

        .apps-table tr:hover {
            background-color: var(--light-bg);
        }

        .table-actions {
            display: flex;
            gap: 8px;
        }

        .table-icon {
            cursor: pointer;
            padding: 6px;
            border-radius: 6px;
            transition: var(--transition);
        }

        .table-edit {
            color: var(--primary);
        }

        .table-edit:hover {
            background-color: rgba(74, 108, 247, 0.1);
        }

        .table-delete {
            color: var(--danger);
        }

        .table-delete:hover {
            background-color: rgba(220, 53, 69, 0.1);
        }

        /* Login Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: var(--light);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            padding: 25px;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--light-border);
        }

        .modal-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--dark);
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray);
            transition: var(--transition);
        }

        .modal-close:hover {
            color: var(--danger);
        }

        .login-form {
            padding: 20px 0;
        }

        .login-message {
            padding: 10px;
            border-radius: var(--border-radius);
            margin-bottom: 15px;
            text-align: center;
            display: none;
        }

        .login-error {
            background-color: rgba(220, 53, 69, 0.1);
            color: var(--danger);
            border: 1px solid rgba(220, 53, 69, 0.2);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
            }
            
            .search-container {
                width: 100%;
            }
            
            .apps-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
            
            .category-filter {
                gap: 10px;
            }
            
            .admin-form {
                grid-template-columns: 1fr;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-store"></i>
                    <span>الكنز المجاني</span>
                </div>
                
                <nav class="nav-links">
                    <a href="#home">الرئيسية</a>
                    <a href="#apps">التطبيقات</a>
                    <a href="#categories">الفئات</a>
                    <a href="#about">عن المتجر</a>
                </nav>
                
                <div class="header-actions">
                    <div class="search-container">
                        <input type="text" class="search-input" id="search-input" placeholder="ابحث عن تطبيق...">
                        <div class="search-results" id="search-results"></div>
                    </div>
                    <button class="btn btn-outline" id="admin-toggle">
                        <i class="fas fa-cog"></i>
                        login
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Admin Panel -->
    <section class="container">
        <div class="admin-panel" id="admin-panel">
            <div class="admin-header">
                <h2 class="admin-title">لوحة تحكم التطبيقات</h2>
                <div class="admin-actions">
                    <button class="btn btn-success" id="add-app-btn">
                        <i class="fas fa-plus"></i>
                        إضافة تطبيق جديد
                    </button>
                    <button class="btn btn-outline" id="close-admin-btn">
                        <i class="fas fa-times"></i>
                        إغلاق اللوحة
                    </button>
                    <button class="btn btn-danger" id="logout-btn">
                        <i class="fas fa-sign-out-alt"></i>
                        تسجيل الخروج
                    </button>
                </div>
            </div>
            
            <div class="admin-apps-list">
                <h3>التطبيقات المضافة</h3>
                <table class="apps-table">
                    <thead>
                        <tr>
                            <th>اسم التطبيق</th>
                            <th>الفئة</th>
                            <th>السعر</th>
                            <th>التقييم</th>
                            <th>الإجراءات</th>
                        </tr>
                    </thead>
                    <tbody id="admin-apps-table">
                        <!-- Apps will be loaded here -->
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- Apps Section -->
    <section class="container" id="apps">
        <h2 style="margin: 30px 0 20px; text-align: center;">التطبيقات المتاحة</h2>
        
        <!-- Category Filter -->
        <div class="category-filter" id="category-filter">
            <button class="category-btn active" data-category="all">الكل</button>
            <button class="category-btn" data-category="التصميم">التصميم</button>
            <button class="category-btn" data-category="tv">tv</button>
            <button class="category-btn" data-category="التعليم">التعليم</button>
            <button class="category-btn" data-category="الأدوات">الأدوات</button>
            <button class="category-btn" data-category="الموسيقى">الموسيقى</button>
            <button class="category-btn" data-category="العمل">العمل</button>
            <button class="category-btn" data-category="المال">المال</button>
            <button class="category-btn" data-category="الطبخ">الطبخ</button>
            <button class="category-btn" data-category="السفر">السفر</button>
            <button class="category-btn" data-category="الأخبار">الأخبار</button>
        </div>
        
        <div class="apps-grid" id="apps-container">
            <!-- Apps will be loaded here -->
        </div>
        <div class="loading-apps" id="loading-apps">
            <div class="loading"></div>
            <p>جاري تحميل التطبيقات...</p>
        </div>
    </section>

    <!-- Login Modal -->
    <div class="modal" id="login-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">تسجيل الدخول لlogin</h3>
                <button class="modal-close" id="login-modal-close">&times;</button>
            </div>
            <div class="login-form">
                <div class="login-message" id="login-message"></div>
                <form id="login-form">
                    <div class="form-group">
                        <label for="username" class="form-label">اسم المستخدم</label>
                        <input type="text" id="username" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label for="password" class="form-label">كلمة المرور</label>
                        <input type="password" id="password" class="form-input" required>
                    </div>
                    <div class="admin-actions" style="margin-top: 20px; justify-content: flex-end;">
                        <button type="button" class="btn btn-outline" id="cancel-login-btn">إلغاء</button>
                        <button type="submit" class="btn btn-primary">تسجيل الدخول</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Add/Edit App Modal -->
    <div class="modal" id="app-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="modal-title">إضافة تطبيق جديد</h3>
                <button class="modal-close" id="modal-close">&times;</button>
            </div>
            <form id="app-form">
                <input type="hidden" id="app-id">
                <div class="admin-form">
                    <div class="form-group">
                        <label for="app-name" class="form-label">اسم التطبيق</label>
                        <input type="text" id="app-name" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label for="app-category" class="form-label">الفئة</label>
                        <select id="app-category" class="form-select" required>
                            <option value="">اختر الفئة</option>
                            <option value="التصميم">التصميم</option>
                            <option value="tv">tv</option>
                            <option value="التعليم">التعليم</option>
                            <option value="الأدوات">الأدوات</option>
                            <option value="الموسيقى">الموسيقى</option>
                            <option value="العمل">العمل</option>
                            <option value="المال">المال</option>
                            <option value="الطبخ">الطبخ</option>
                            <option value="السفر">السفر</option>
                            <option value="الأخبار">الأخبار</option>
                        </select>
                    </div>
                    <div class="form-group full-width">
                        <label for="app-description" class="form-label">الوصف</label>
                        <textarea id="app-description" class="form-textarea" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="app-price" class="form-label">السعر</label>
                        <input type="number" id="app-price" class="form-input" min="0" step="0.01" value="0">
                    </div>
                    <div class="form-group">
                        <label for="app-rating" class="form-label">التقييم</label>
                        <input type="number" id="app-rating" class="form-input" min="0" max="5" step="0.1" value="4.5">
                    </div>
                    <div class="form-group">
                        <label for="app-icon" class="form-label">أيقونة التطبيق (Font Awesome)</label>
                        <input type="text" id="app-icon" class="form-input" placeholder="fas fa-app" value="fas fa-mobile-alt">
                    </div>
                    <div class="form-group">
                        <label for="app-icon-image" class="form-label">صورة الأيقونة (رابط)</label>
                        <input type="text" id="app-icon-image" class="form-input" placeholder="https://example.com/image.jpg">
                    </div>
                    <div class="form-group">
                        <label for="app-download-link" class="form-label">رابط التحميل</label>
                        <input type="text" id="app-download-link" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label for="app-website" class="form-label">الموقع الإلكتروني</label>
                        <input type="text" id="app-website" class="form-input">
                    </div>
                </div>
                <div class="admin-actions" style="margin-top: 20px; justify-content: flex-end;">
                    <button type="button" class="btn btn-outline" id="cancel-app-btn">إلغاء</button>
                    <button type="submit" class="btn btn-primary">حفظ التطبيق</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // بيانات الاعتماد الافتراضية (يمكنك تغييرها)
        const ADMIN_CREDENTIALS = {
            username: "admin",
            password: "admin123" // يمكنك تغيير كلمة المرور هنا
        };

        // Default apps data
        const defaultApps = [
            {
                id: 1,
                name: "MT Manager Pro Vip",
                description: "تحميل تطبيق ام تي مانجر MT Manager Pro Vip مهكر هو أداة قوية لإدارة الملفات على أجهزة الأندرويد، يتيح للمستخدمين القيام بمهام متقدمة مثل تحرير الملفات وتعديلها، واستخراج وضغط الملفات، وحتى تعديل تطبيقات الأندرويد (APKs)، يُعتبر هذا التطبيق مثاليًا للمستخدمين المتقدمين والمطورين الذين يحتاجون إلى تحكم كامل في ملفات نظام الأندرويد، بالإضافة إلى ذلك يوفر التطبيق واجهة مستخدم بسيطة وسهلة الاستخدام، مع ميزات مثل تحرير النصوص البرمجية، وتعديل التصاريح، والبحث والاستبدال في النصوص، وإدارة التطبيقات المثبتة.",
                category: "التعليم",
                price: 0,
                rating: 4.8,
                icon: "fas fa-camera",
                iconImage: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQsnyrGjaDXGdGduL0jLdKwhwa0egn14-fTj4_MwDZxBQ&s",
                downloadLink: "https://www.mediafire.com/file/x9jh2c47u7tfngq/MT_Manager_2.14.5-clone%2528password_is%2529_12345.zip/file?dkey=1ktgahtp68s&r=1909",
                website: "https://www.mediafire.com/file/x9jh2c47u7tfngq/MT_Manager_2.14.5-clone%2528password_is%2529_12345.zip/file?dkey=1ktgahtp68s&r=1909"
            },
            {
                id: 2,
                name: "ES File Explorer لـ Android - قم بتنزيل تطبيق مهكر",
                description: "البرنامج يسمح لأي مستخدم أندرويد أن يدير كل ملفاته بسهولة ، و يتمكن من الولوج في أي وقت على جهازه المحمول ثم يشاركه إذا أراد. رفع الصور، مشاهدة الأفلام.",
                category: "التعليم",
                price: 0,
                rating: 4.6,
                icon: "fas fa-running",
                iconImage: "https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQ45aEy0sGMNT77ZnHA9A1q2IVd1W2Oq5LDKnFBtdzVfWpk6EphKa5P2GYDOioRCyfqUlwME-D-RUB4LkznO50dgNZXGeSWbwPqVJR5oA",
                downloadLink: "https://www.mediafire.com/file/lp5zk4n6sg70hp9/UltData_v3.4.21.apk/file?dkey=sv5abna0e6j&r=1424",
                website: "https://fittracker.com"
            },
            {
                id: 3,
                name: "aseel tv",
                description: "ويتميز التطبيق Aseel Live tv يقدم بتوفير جدول المباريات بشكل يومي لمشاهدتها بشكل مباشر، حيث يمكنك متابعة مبارياتك المفضلة ومشاهدتها",
                category: "tv",
                price: 0,
                rating: 4.9,
                icon: "fas fa-book",
                iconImage: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTNiIkZhiQmGLtZi7kGoyZ4eG2PLk3yw8pGC9OmXIobJw&s=10",
                downloadLink: "https://wacelalorshe.github.io/kanz/Aseel.html",
                website: "https://languagelearn.com"
            },
            {
                id: 4,
                name: "تحميل تطبيق دراما بوكس DramaBox مهكر Apk للاندرويد 2026 اخر اصدار مجانا",
                description: "مميزات تحميل تطبيق درامابوكس DramaBox مهكر · مشاهدة جميع المسلسلات العربية والعالمية مجانًا بدون أي اشتراك شهري. · واجهة سهلة وبسيطة.",
                category: "tv",
                price: 0,
                rating: 4.7,
                icon: "fas fa-cloud-sun",
                iconImage: "https://img.utdstc.com/icon/1cb/cda/1cbcda7e556f5173bbaf9a04caec6c1815a1111b7551538739a7acea2a3d40d5:200",
                downloadLink: "https://wacelalorshe.github.io/kanz/dramabox.html",
                website: "https://weatherpro.com"
            },
            {
                id: 5,
                name: "see drama",
                description: "إذا كنت تبحث عن طريقة مريحة وسهلة للوصول إلى جميع الأعمال الدرامية المفضلة لديك، القنوات التلفزيونية، والبث المباشر، فإن هذا التطبيق هو الحل المثالي بالنسبة لك. تم تصميم التطبيق ليكون وجهتك الشاملة للاستمتاع بكل ما تحب مشاهدته، سواء كنت من عشاق المسلسلات الكلاسيكية أو الأعمال الحديثة",
                category: "tv",
                price: 0,
                rating: 4.5,
                icon: "fas fa-music",
                iconImage: " https://seedrama.app/wp-content/uploads/2025/07/wood-logo-white-reserve-300x300.webp",
                downloadLink: "https://wacelalorshe.blogspot.com/2024/08/see-drama-vip-2024.html?m=1",
                website: "https://wacelalorshe.blogspot.com/2024/08/see-drama-vip-2024.html?m=1"
            },
            {
                id: 6,
                name: "iMemo pro",
                description: "يُعد iMemo تطبيقًا لتدوين الملاحظات يستند إلى الذكاء الاصطناعي، ويقوم بتسجيل الصوت وتحويله إلى نص، ثم يقدّم ملخصات مُولّدة بواسطة الذكاء الاصطناعي. نظرًا لأن iMemo تطبيق مخصص للأجهزة المحمولة، يمكن لمستخدمي Android تنزيله وتثبيته على شكل ملف APK. ",
                category: "العمل",
                price: 0,
                rating: 4.5,
                icon: "fas fa-music",
                iconImage: " https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTEhOxmHPv705ixYXv99AZMs41ozxu6yhh2NOxazxT9KPEbFQy9OnsFp7E&s=10",
                downloadLink: "https://cuty.io/iMemo",
                website: "رابط"
            },
            {
                id: 7,
                name: "تحميل شاهد vip مهكر مجانا [بدون اعلانات] 2025 لـ أندروي",
                description: "استمتع بعالم لا حدود له من الترفيه مع شاهد، المنصة الرائدة التي تقدم لك أفضل الإنتاجات العربية الأصلية، المسلسلات الحصرية، الأفلام الضخمة، القنوات المباشرة ",
                category: "العمل",
                price: 0,
                rating: 4.5,
                icon: "fas fa-music",
                iconImage: " https://apk-baba.net/wp-content/uploads/شاهد-vip-مهكر-icon-apkbaba.webp ",
                downloadLink: "https://cuty.io/iMemo",
                website: "رابط"
            },
            {
                id: 8,
                name: "SnapTube v7.49.0.74950410 MOD APK (VIP) Unlocked",
                description: "أكثر من 1 مليار مستخدم يستخدمون Snaptube لتنزيل الفيديو والموسيقى من اليوتيوب و من مواقع أخرى مختلفة",
                category: "الأدوات",
                price: 0,
                rating: 4.5,
                icon: "fas fa-music",
                iconImage: " https://img.utdstc.com/icon/b11/7ce/b117ce7ff728bd1bf2883fdffdcb170f487a793a8f65db956649a846861e138c:200",
                downloadLink: "https://wacelalorshe.github.io/Mbc-c/snaptube.html",
                website: "https://wacelalorshe.github.io/Mbc-c/snaptube.html"
            }
        ];

        // DOM Elements
        const appsContainer = document.getElementById('apps-container');
        const searchInput = document.getElementById('search-input');
        const searchResults = document.getElementById('search-results');
        const categoryFilter = document.getElementById('category-filter');
        const loadingApps = document.getElementById('loading-apps');
        const adminPanel = document.getElementById('admin-panel');
        const adminToggle = document.getElementById('admin-toggle');
        const closeAdminBtn = document.getElementById('close-admin-btn');
        const addAppBtn = document.getElementById('add-app-btn');
        const adminAppsTable = document.getElementById('admin-apps-table');
        const appModal = document.getElementById('app-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalClose = document.getElementById('modal-close');
        const cancelAppBtn = document.getElementById('cancel-app-btn');
        const appForm = document.getElementById('app-form');
        const loginModal = document.getElementById('login-modal');
        const loginForm = document.getElementById('login-form');
        const loginModalClose = document.getElementById('login-modal-close');
        const cancelLoginBtn = document.getElementById('cancel-login-btn');
        const loginMessage = document.getElementById('login-message');
        const logoutBtn = document.getElementById('logout-btn');

        // Current state
        let currentApps = [];
        let currentCategory = 'all';
        let currentSearchQuery = '';
        let editingAppId = null;
        let isLoggedIn = false;

        // Initialize the page
        function init() {
            loadApps();
            setupEventListeners();
            
            // Check if user is already logged in
            checkLoginStatus();
        }

        // Check login status from localStorage
        function checkLoginStatus() {
            const loginStatus = localStorage.getItem('admin_logged_in');
            if (loginStatus === 'true') {
                isLoggedIn = true;
                adminToggle.textContent = 'login ';
            }
        }

        // Login function
        function login(username, password) {
            if (username === ADMIN_CREDENTIALS.username && password === ADMIN_CREDENTIALS.password) {
                isLoggedIn = true;
                localStorage.setItem('admin_logged_in', 'true');
                closeLoginModal();
                showAdminPanel();
                return true;
            } else {
                showLoginMessage('اسم المستخدم أو كلمة المرور غير صحيحة', true);
                return false;
            }
        }

        // Logout function
        function logout() {
            isLoggedIn = false;
            localStorage.removeItem('admin_logged_in');
            adminPanel.style.display = 'none';
            adminToggle.textContent = 'login';
            showLoginMessage('تم تسجيل الخروج بنجاح', false);
        }

        // Show login message
        function showLoginMessage(message, isError) {
            loginMessage.textContent = message;
            loginMessage.className = 'login-message ' + (isError ? 'login-error' : '');
            loginMessage.style.display = 'block';
            
            if (!isError) {
                setTimeout(() => {
                    loginMessage.style.display = 'none';
                }, 3000);
            }
        }

        // Show login modal
        function showLoginModal() {
            loginModal.style.display = 'flex';
            loginForm.reset();
            loginMessage.style.display = 'none';
        }

        // Close login modal
        function closeLoginModal() {
            loginModal.style.display = 'none';
        }

        // Show admin panel
        function showAdminPanel() {
            if (isLoggedIn) {
                adminPanel.style.display = 'block';
                adminToggle.textContent = 'login ';
            } else {
                showLoginModal();
            }
        }

        // Load apps
        function loadApps() {
            showLoading(true);
            
            // Simulate loading delay
            setTimeout(() => {
                currentApps = JSON.parse(localStorage.getItem('store_apps')) || defaultApps;
                renderApps(currentApps);
                renderAdminAppsTable(currentApps);
                showLoading(false);
            }, 800);
        }

        // Show/hide loading indicator
        function showLoading(show) {
            if (loadingApps) {
                loadingApps.style.display = show ? 'block' : 'none';
            }
        }

        // Render apps to the main page
        function renderApps(apps = []) {
            if (!appsContainer) return;
            
            appsContainer.innerHTML = '';
            
            if (apps.length === 0) {
                appsContainer.innerHTML = '<p style="text-align: center; grid-column: 1/-1; padding: 40px;">لا توجد تطبيقات متاحة</p>';
                return;
            }
            
            apps.forEach(app => {
                const appCard = document.createElement('a');
                appCard.className = 'app-card';
                appCard.href = app.downloadLink;
                appCard.target = "_blank";
                
                // تحديد ما إذا كان سيتم استخدام صورة أو أيقونة
                const iconContent = app.iconImage 
                    ? `<img src="${app.iconImage}" alt="${app.name}">`
                    : `<i class="${app.icon}"></i>`;
                
                appCard.innerHTML = `
                    <div class="app-image">
                        ${iconContent}
                    </div>
                    <div class="app-content">
                        <div class="app-header">
                            <h3 class="app-title">${app.name}</h3>
                            <div class="app-rating">
                                <i class="fas fa-star"></i>
                                <span>${app.rating}</span>
                            </div>
                        </div>
                        <p class="app-description">${app.description.substring(0, 120)}...</p>
                        <div class="app-footer">
                            <span class="app-price">${app.price === 0 ? 'مجاني' : `$${app.price}`}</span>
                            <span class="btn btn-primary">${app.price === 0 ? 'تحميل' : 'شراء'}</span>
                        </div>
                    </div>
                `;
                
                appsContainer.appendChild(appCard);
            });
        }

        // Render admin apps table
        function renderAdminAppsTable(apps = []) {
            if (!adminAppsTable) return;
            
            adminAppsTable.innerHTML = '';
            
            if (apps.length === 0) {
                adminAppsTable.innerHTML = '<tr><td colspan="5" style="text-align: center; padding: 20px;">لا توجد تطبيقات مضافة</td></tr>';
                return;
            }
            
            apps.forEach(app => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${app.name}</td>
                    <td>${app.category}</td>
                    <td>${app.price === 0 ? 'مجاني' : `$${app.price}`}</td>
                    <td>${app.rating}</td>
                    <td>
                        <div class="table-actions">
                            <i class="fas fa-edit table-icon table-edit" data-id="${app.id}"></i>
                            <i class="fas fa-trash table-icon table-delete" data-id="${app.id}"></i>
                        </div>
                    </td>
                `;
                
                adminAppsTable.appendChild(row);
            });
        }

        // Filter apps by category
        function filterAppsByCategory(category) {
            if (category === 'all') {
                return currentApps;
            }
            
            return currentApps.filter(app => app.category === category);
        }

        // Search functionality - محسّن
        function performSearch(query) {
            currentSearchQuery = query;
            
            if (!query) {
                searchResults.style.display = 'none';
                applyFilters();
                return;
            }
            
            // تقسيم النص إلى كلمات للبحث عن كل كلمة
            const searchTerms = query.toLowerCase().split(' ');
            
            // فلترة التطبيقات بناءً على البحث
            const filteredApps = currentApps.filter(app => {
                const appName = app.name.toLowerCase();
                const appDescription = app.description.toLowerCase();
                const appCategory = app.category.toLowerCase();
                
                // البحث عن تطابق مع أي من كلمات البحث
                return searchTerms.some(term => 
                    appName.includes(term) || 
                    appDescription.includes(term) || 
                    appCategory.includes(term)
                );
            });
            
            // تحديث نتائج البحث المنسدلة
            searchResults.innerHTML = '';
            
            if (filteredApps.length === 0) {
                searchResults.innerHTML = '<div class="no-results">لا توجد نتائج تطابق بحثك</div>';
            } else {
                filteredApps.slice(0, 5).forEach(app => {
                    const resultItem = document.createElement('a');
                    resultItem.className = 'search-result-item';
                    resultItem.href = app.downloadLink;
                    resultItem.target = "_blank";
                    
                    // تحديد ما إذا كان سيتم استخدام صورة أو أيقونة
                    const iconContent = app.iconImage 
                        ? `<img src="${app.iconImage}" alt="${app.name}">`
                        : `<i class="${app.icon}"></i>`;
                    
                    resultItem.innerHTML = `
                        <div class="search-result-icon">
                            ${iconContent}
                        </div>
                        <div class="search-result-info">
                            <div class="search-result-name">${app.name}</div>
                            <div class="search-result-category">${app.category}</div>
                        </div>
                    `;
                    
                    searchResults.appendChild(resultItem);
                });
            }
            
            searchResults.style.display = 'block';
            
            // حفظ نتائج البحث لتطبيق المرشحات
            currentSearchResults = filteredApps;
            applyFilters();
        }

        // Apply both category and search filters
        function applyFilters() {
            let filteredApps = currentApps;
            
            // Apply category filter
            if (currentCategory !== 'all') {
                filteredApps = filteredApps.filter(app => app.category === currentCategory);
            }
            
            // Apply search filter
            if (currentSearchQuery) {
                const searchTerms = currentSearchQuery.toLowerCase().split(' ');
                filteredApps = filteredApps.filter(app => {
                    const appName = app.name.toLowerCase();
                    const appDescription = app.description.toLowerCase();
                    const appCategory = app.category.toLowerCase();
                    
                    return searchTerms.some(term => 
                        appName.includes(term) || 
                        appDescription.includes(term) || 
                        appCategory.includes(term)
                    );
                });
            }
            
            renderApps(filteredApps);
        }

        // Show app modal for adding/editing
        function showAppModal(app = null) {
            if (!isLoggedIn) {
                showLoginModal();
                return;
            }
            
            if (app) {
                // Editing mode
                modalTitle.textContent = 'تعديل التطبيق';
                document.getElementById('app-id').value = app.id;
                document.getElementById('app-name').value = app.name;
                document.getElementById('app-category').value = app.category;
                document.getElementById('app-description').value = app.description;
                document.getElementById('app-price').value = app.price;
                document.getElementById('app-rating').value = app.rating;
                document.getElementById('app-icon').value = app.icon;
                document.getElementById('app-icon-image').value = app.iconImage || '';
                document.getElementById('app-download-link').value = app.downloadLink;
                document.getElementById('app-website').value = app.website || '';
                editingAppId = app.id;
            } else {
                // Adding mode
                modalTitle.textContent = 'إضافة تطبيق جديد';
                appForm.reset();
                document.getElementById('app-id').value = '';
                editingAppId = null;
            }
            
            appModal.style.display = 'flex';
        }

        // Close app modal
        function closeAppModal() {
            appModal.style.display = 'none';
            appForm.reset();
            editingAppId = null;
        }

        // Save app (add or update)
        function saveApp(appData) {
            if (!isLoggedIn) {
                showLoginModal();
                return;
            }
            
            if (editingAppId) {
                // Update existing app
                const index = currentApps.findIndex(app => app.id === editingAppId);
                if (index !== -1) {
                    currentApps[index] = { ...currentApps[index], ...appData };
                }
            } else {
                // Add new app
                const newId = currentApps.length > 0 ? Math.max(...currentApps.map(app => app.id)) + 1 : 1;
                currentApps.push({ id: newId, ...appData });
            }
            
            // Save to localStorage
            localStorage.setItem('store_apps', JSON.stringify(currentApps));
            
            // Update UI
            renderApps(currentApps);
            renderAdminAppsTable(currentApps);
            applyFilters();
            
            // Close modal
            closeAppModal();
        }

        // Delete app
        function deleteApp(appId) {
            if (!isLoggedIn) {
                showLoginModal();
                return;
            }
            
            if (confirm('هل أنت متأكد من حذف هذا التطبيق؟')) {
                currentApps = currentApps.filter(app => app.id !== appId);
                
                // Save to localStorage
                localStorage.setItem('store_apps', JSON.stringify(currentApps));
                
                // Update UI
                renderApps(currentApps);
                renderAdminAppsTable(currentApps);
                applyFilters();
            }
        }

        // Setup event listeners
        function setupEventListeners() {
            // Search input event
            if (searchInput) {
                searchInput.addEventListener('input', (e) => {
                    performSearch(e.target.value);
                });
            }
            
            // Close search results when clicking outside
            document.addEventListener('click', (e) => {
                if (searchResults && !e.target.closest('.search-container')) {
                    searchResults.style.display = 'none';
                }
            });
            
            // Category filter buttons
            if (categoryFilter) {
                categoryFilter.addEventListener('click', (e) => {
                    if (e.target.classList.contains('category-btn')) {
                        // Remove active class from all buttons
                        document.querySelectorAll('.category-btn').forEach(btn => {
                            btn.classList.remove('active');
                        });
                        
                        // Add active class to clicked button
                        e.target.classList.add('active');
                        
                        // Update current category
                        currentCategory = e.target.getAttribute('data-category');
                        
                        // Apply filters
                        applyFilters();
                    }
                });
            }
            
            // Admin panel toggle
            if (adminToggle) {
                adminToggle.addEventListener('click', () => {
                    showAdminPanel();
                });
            }
            
            // Close admin panel
            if (closeAdminBtn) {
                closeAdminBtn.addEventListener('click', () => {
                    adminPanel.style.display = 'none';
                adminToggle.textContent = 'login';
                if (isLoggedIn) {
                    adminToggle.textContent = 'login ';
                }
                });
            }
            
            // Add app button
            if (addAppBtn) {
                addAppBtn.addEventListener('click', () => {
                    showAppModal();
                });
            }
            
            // Modal close buttons
            if (modalClose) {
                modalClose.addEventListener('click', closeAppModal);
            }
            
            if (cancelAppBtn) {
                cancelAppBtn.addEventListener('click', closeAppModal);
            }
            
            // App form submission
            if (appForm) {
                appForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    
                    const appData = {
                        name: document.getElementById('app-name').value,
                        category: document.getElementById('app-category').value,
                        description: document.getElementById('app-description').value,
                        price: parseFloat(document.getElementById('app-price').value) || 0,
                        rating: parseFloat(document.getElementById('app-rating').value) || 4.5,
                        icon: document.getElementById('app-icon').value,
                        iconImage: document.getElementById('app-icon-image').value,
                        downloadLink: document.getElementById('app-download-link').value,
                        website: document.getElementById('app-website').value
                    };
                    
                    saveApp(appData);
                });
            }
            
            // Admin table actions (edit/delete)
            if (adminAppsTable) {
                adminAppsTable.addEventListener('click', (e) => {
                    const appId = parseInt(e.target.getAttribute('data-id'));
                    
                    if (e.target.classList.contains('table-edit')) {
                        const app = currentApps.find(app => app.id === appId);
                        if (app) {
                            showAppModal(app);
                        }
                    } else if (e.target.classList.contains('table-delete')) {
                        deleteApp(appId);
                    }
                });
            }
            
            // Login form submission
            if (loginForm) {
                loginForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    
                    const username = document.getElementById('username').value;
                    const password = document.getElementById('password').value;
                    
                    login(username, password);
                });
            }
            
            // Login modal close buttons
            if (loginModalClose) {
                loginModalClose.addEventListener('click', closeLoginModal);
            }
            
            if (cancelLoginBtn) {
                cancelLoginBtn.addEventListener('click', closeLoginModal);
            }
            
            // Logout button
            if (logoutBtn) {
                logoutBtn.addEventListener('click', logout);
            }
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
